<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="{{ SITEURL }}/theme/js/theme-switcher.js"></script>
        {% block head_links %}
        {% if PLUGINS and 'assets' in PLUGINS %}
        {% include '_includes/minify_css.html' with context %}
        {% else %}
        <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/css/elegant.prod.css" media="screen">
        {% if CUSTOM_CSS %}
        <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/{{ CUSTOM_CSS }}" media="screen">
        {% endif %}
        {% endif %}
        {% endblock head_links %}

        {% if CLAIM_GOOGLE %}
        {% include '_includes/claim_google.html' with context %}
        {% endif %}
        {% if CLAIM_BING %}
        {% include '_includes/claim_bing.html' with context %}
        {% endif %}
        {% if CLAIM_YANDEX %}
        {% include '_includes/claim_yandex.html' with context %}
        {% endif %}
        {% if article and article.author %}
        <meta name="author" content="{{ article.author }}" />
        {% elif page and page.author %}
        <meta name="author" content="{{ page.author }}" />
        {% else %}
        <meta name="author" content="{{ AUTHOR }}" />
        {% endif %}

        {% from '_includes/_defaults.html' import SITE_DESCRIPTION with context %}
        {% if SITE_DESCRIPTION %}
        <meta name="description" content="{% block head_description %}{{ SITE_DESCRIPTION|e }}{% endblock head_description %}" />
        {% endif %}
        {% block meta_tags_in_head %}
        {% from '_includes/_defaults.html' import TWITTER_USERNAME with context %}
        {% if TWITTER_USERNAME %}
        <meta name="twitter:creator" content="@{{ TWITTER_USERNAME }}">
        {% endif %}
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">
        {% endblock meta_tags_in_head %}
        <title>{% block title %}{{ SITENAME|striptags|e }}{% endblock title %}</title>
        {% include '_includes/favicon_links.html' %}
        {% block feed_links %}
        {% include '_includes/feeds.html' %}
        {% endblock feed_links %}
        {% include '_includes/analytics.html' %}
    </head>
    <body>
        <main id="content">
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <a class="navbar-brand" href="{{ SITEURL }}/"><span class="site-name">{{ SITENAME }}</span></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item">
                                <a class="nav-link{% if page_name == 'index' %} active{% endif %}" href="{% if SITEURL %}{{ SITEURL }}{% else %}/{% endif %}">Home</a>
                            </li>
                            {% if DISPLAY_PAGES_ON_MENU %}
                            {% for p in pages %}
                            <li class="nav-item">
                                <a class="nav-link{% if p == page %} active{% endif %}" href="{{ SITEURL }}/{{ p.url }}">{{ p.title }}</a>
                            </li>
                            {% endfor %}
                            {% endif %}
                            {% from '_includes/_defaults.html' import TAGS_URL, CATEGORIES_URL, ARCHIVES_URL, SEARCH_URL with context %}
                            <li class="nav-item">
                                <a class="nav-link{% if page_name == 'categories' %} active{% endif %}" href="{{ SITEURL }}/{{ CATEGORIES_URL }}">Categories</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link{% if page_name == 'tags' %} active{% endif %}" href="{{ SITEURL }}/{{ TAGS_URL }}">Tags</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link{% if page_name == 'archives' %} active{% endif %}" href="{{ SITEURL }}/{{ ARCHIVES_URL }}">Archives</a>
                            </li>
                            <li class="nav-item">
                                <form class="d-flex">
                                    <input data-stork="sitesearch" class="form-control" placeholder="Search">
                                </form>
                            </li>
                            <li class="nav-item">
                                <button class="btn btn-link nav-link py-2 px-0 px-lg-2 d-flex align-items-center"
                                        id="bd-theme"
                                        type="button"
                                        aria-label="Toggle theme (auto)"
                                        title="Toggle theme">
                                    <i class="theme-icon bi bi-circle-half"></i>
                                    <span class="visually-hidden" id="bd-theme-text">Toggle theme</span>
                                </button>
                            </li>
                        </ul>
                        <div data-stork="sitesearch-output" style="position:absolute; top: 3.5rem; right: 0"></div>
                    </div>
                </div>
            </nav>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12 col-md-1"></div>
                    <div class="col-12 col-md-10">
                        {% block content %}
                        {% endblock content %}
                    </div>
                    <div class="col-12 col-md-1"></div>
                </div>
            </div>
        </main>
        {% include '_includes/footer.html' %}
        {% block script %}
        {% if AMAZON_BESTAZON %}
            {% include '_includes/bestazon.html' %}
        {% endif %}
        <script src="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/js/elegant.prod.js"></script>
        {% endblock script %}
        {% include '_includes/stat_counter.html' %}
        <script src="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/js/stork.js"></script>
        <script>
            if (typeof stork !== 'undefined') {
                stork.initialize("{{ SITEURL }}/{{ THEME_STATIC_DIR }}/js/stork.wasm").then(() => {
                    stork.register("sitesearch", "{{ SITEURL }}/search-index.st").catch(err => {
                        console.error("Stork search registration error:", err);
                    });
                }).catch(err => {
                    console.error("Stork initialization error:", err);
                });
            }
        </script>
    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>
