{% from '_includes/_defaults.html' import PHOTOS_LIGHTBOX with context %}
{% if PHOTOS_LIGHTBOX and article and article.photo_gallery %}
<!-- 'photo' Gallery support - PhotoSwipe (vanilla JS, no jQuery required) -->
<script>
    // Initialize PhotoSwipe for .gallery elements
    (function() {
        'use strict';

        // Wait for DOM to be ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                initPhotoSwipeFromDOM('.gallery');
            });
        } else {
            initPhotoSwipeFromDOM('.gallery');
        }
    })();
</script>
{% endif %}
